---
import { getLangFromUrl, getTranslatedPath } from "../i18n/utils";

export interface NavItem {
  key: string;
  label: string;
  href: string;
}

export interface Props {
  items: NavItem[];
}

const { items } = Astro.props;
const currentLang = getLangFromUrl(Astro.url);
const currentPath = Astro.url.pathname;
---

<nav style="color: var(--color-akcent-modra)">
  <ul class="flex flex-row justify-between">
    {
      items.map((item) => {
        const isActive =
          currentPath === item.href ||
          currentPath === `/${currentLang}${item.href}` ||
          (item.href === "/" &&
            (currentPath === "/" || currentPath === `/${currentLang}`));

        return (
          <li class="border-2 rounded-lg py-1 px-2">
            <a
              href={getTranslatedPath(item.key, currentLang)}
              class={`nav-link text-text hover:text-primary transition-colors duration-200 ${
                isActive
                  ? "text-primary font-medium border-b-2 border-primary"
                  : ""
              }`}
            >
              {item.label}
            </a>
          </li>
        );
      })
    }
  </ul>
</nav>

